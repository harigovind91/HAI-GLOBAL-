<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAI Global | Seller Onboarding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .input-box { width: 100%; padding: 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; font-size: 13px; margin-bottom: 10px; outline: none; transition: 0.3s; }
        .input-box:focus { border-color: #1e40af; background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .profile-card { background: white; padding: 25px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); max-width: 500px; margin: 20px auto; border: 1px solid #f1f5f9; }
        .btn-save { width: 100%; padding: 16px; background: #1e40af; color: white; border-radius: 15px; font-weight: 900; letter-spacing: 1px; transition: 0.3s; cursor: pointer; }
        .btn-save:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(30, 64, 175, 0.3); }
        #preview-container { margin-top: 10px; display: none; }
        #preview-media { width: 100%; max-height: 150px; object-fit: cover; border-radius: 10px; border: 2px solid #1e40af; }
    </style>
</head>
<body class="bg-slate-50 p-4">

<div class="profile-card">
    <h2 class="font-black text-xl text-blue-800 mb-5 italic">HAI SELLER ENGINE v2.1</h2>
    
    <div class="grid grid-cols-2 gap-3 mb-4">
        <input type="text" id="s-name" class="input-box" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <input type="text" id="s-shop" class="input-box" placeholder="‡§¶‡•Å‡§ï‡§æ‡§® ‡§ï‡§æ ‡§®‡§æ‡§Æ">
    </div>
    <input type="email" id="s-email" class="input-box" placeholder="‡§à‡§Æ‡•á‡§≤">
    <input type="tel" id="s-mobile" class="input-box" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">

    <h3 class="font-bold text-xs mt-4 text-gray-400 uppercase tracking-widest">Global Location</h3>
    <div class="grid grid-cols-2 gap-2">
        <input type="text" id="s-country" class="input-box" placeholder="‡§¶‡•á‡§∂ (e.g. India)">
        <input type="number" id="s-pin" class="input-box" placeholder="‡§™‡§ø‡§® ‡§ï‡•ã‡§°">
    </div>

    <div class="bg-blue-50 p-5 rounded-2xl border-2 border-dashed border-blue-200 mt-4">
        <p class="text-[10px] font-black mb-2 text-blue-700 uppercase">List Your First Product</p>
        
        <div id="preview-container">
            <img id="preview-media" src="" alt="Preview">
            <p class="text-[8px] text-blue-600 font-bold mt-1">MEDIA LOADED ‚úì</p>
        </div>

        <input type="text" id="p-title" class="input-box mt-2" placeholder="‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <div class="flex gap-2">
            <input type="number" id="p-price" class="input-box w-2/3" placeholder="Price (‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§¶‡§∞)">
            <input type="text" id="p-unit" class="input-box w-1/3" placeholder="Unit (kg/ltr)">
        </div>
        <div class="flex gap-2 mt-2">
            <button onclick="openCamera()" class="bg-white border p-2 rounded-xl text-[10px] font-bold flex-1">üì∑ Take Photo</button>
            <input type="file" id="prod-media" class="hidden" accept="image/*,video/*">
            <button onclick="document.getElementById('prod-media').click()" class="bg-white border p-2 rounded-xl text-[10px] font-bold flex-1">üìÅ Gallery</button>
        </div>
    </div>

    <button class="btn-save mt-6" onclick="registerSeller()">CREATE & LIVE LISTING</button>
</div>

<script>
    let globalMediaData = 'üì¶'; // ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§°‡•á‡§ü‡§æ

    // ‡§´‡§æ‡§á‡§≤ ‡§≤‡•ã‡§° ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§â‡§∏‡•á Base64 ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§®‡§æ
    document.getElementById('prod-media').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                globalMediaData = event.target.result;
                // ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§¶‡§ø‡§ñ‡§æ‡§®‡§æ
                const preview = document.getElementById('preview-media');
                const container = document.getElementById('preview-container');
                preview.src = globalMediaData;
                container.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    });

    function openCamera() {
        alert("HAI System: Camera logic engaged. Scientist Harigovind, please ensure HTTPS is active for camera access.");
        // ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§∏‡•Ä‡§ß‡•á ‡§ñ‡•ã‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
        const mediaInput = document.getElementById('prod-media');
        mediaInput.setAttribute('capture', 'environment');
        mediaInput.click();
    }

    function registerSeller() {
        const seller = {
            name: document.getElementById('s-name').value,
            shop: document.getElementById('s-shop').value,
            country: document.getElementById('s-country').value,
            pin: document.getElementById('s-pin').value
        };

        const product = {
            id: 'HAI-PROD-' + Date.now(),
            name: document.getElementById('p-title').value,
            price: document.getElementById('p-price').value,
            unit: document.getElementById('p-unit').value,
            sellerShop: seller.shop,
            img: globalMediaData // ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§¨ 'üì¶' ‡§ï‡•Ä ‡§ú‡§ó‡§π ‡§Ö‡§∏‡§≤‡•Ä ‡§´‡•ã‡§ü‡•ã/‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§°‡•á‡§ü‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ
        };

        if(!seller.shop || !product.name || !product.price) return alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§≠‡§∞‡•á‡§Ç!");

        // 1. ‡§∏‡•á‡§≤‡§∞ ‡§°‡•á‡§ü‡§æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç
        localStorage.setItem('active_seller', JSON.stringify(seller));

        // 2. ‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ú‡•ã‡•ú‡•á‡§Ç
        let globalList = JSON.parse(localStorage.getItem('custom_products')) || [];
        globalList.push(product);
        localStorage.setItem('custom_products', JSON.stringify(globalList));

        alert("‡§¨‡§ß‡§æ‡§à ‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï Harigovind! ‡§Ü‡§™‡§ï‡§æ ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü " + seller.country + " ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§æ‡§á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§");
        window.location.href = 'index.html';
    }
</script>
</body>
  </html>
          
