<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAI Global | Universal Intelligence Grid</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <style>
        :root { --hai-red: #dc2626; --hai-green: #16a34a; }
        .side-menu { position: fixed; top: 0; left: -100%; width: 320px; height: 100%; background: white; z-index: 1000; transition: 0.5s cubic-bezier(0.16, 1, 0.3, 1); box-shadow: 25px 0 50px rgba(0,0,0,0.2); }
        .side-menu.active { left: 0; }
        .menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; z-index: 999; backdrop-filter: blur(8px); }
        .menu-overlay.active { display: block; }
        .nav-gradient { background: linear-gradient(135deg, #991b1b 0%, #dc2626 100%); }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
        .glass-card:hover { transform: translateY(-5px); border-color: #dc2626; }
        .menu-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 12px; transition: 0.3s; font-weight: 700; color: #1e293b; font-size: 13px; }
        .menu-item:hover { background: #fef2f2; color: #dc2626; transform: translateX(8px); }
        .fresh-tag { background: linear-gradient(90deg, #16a34a, #22c55e); color: white; padding: 2px 8px; border-radius: 5px; font-size: 10px; font-weight: 900; }
        .world-grid { background-image: url('https://www.transparenttextures.com/patterns/world-map.png'); background-color: #f8fafc; }
    </style>
</head>
<body class="world-grid font-sans text-slate-900">

    <nav class="nav-gradient text-white p-4 sticky top-0 z-50 shadow-2xl">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-5">
                <button onclick="toggleMenu()" class="text-3xl hover:rotate-90 transition-transform duration-300">‚ò∞</button>
                <div>
                    <h1 class="text-2xl font-black tracking-tighter italic leading-none">HAI<span class="text-green-400">GLOBAL</span></h1>
                    <p class="text-[9px] font-bold tracking-[0.2em] text-red-100 uppercase">Universal Intelligence Grid</p>
                </div>
            </div>
            
            <div class="flex items-center gap-3 bg-black/20 p-2 rounded-xl border border-white/10">
                <div class="text-right hidden md:block">
                    <p id="user-city" class="text-[10px] font-black uppercase tracking-tighter italic">Locating Node...</p>
                    <p id="user-ip" class="text-[8px] font-medium opacity-70">IP: Fetching...</p>
                </div>
                <div id="currency-flag" class="text-2xl shadow-lg">üåç</div>
            </div>
        </div>
    </nav>

    <div id="overlay" class="menu-overlay" onclick="toggleMenu()"></div>

    <div id="menu" class="side-menu flex flex-col">
        <div class="bg-red-800 p-8 text-white relative overflow-hidden">
            <div class="relative z-10">
                <div class="w-16 h-16 bg-white rounded-2xl mb-4 flex items-center justify-center text-2xl font-black shadow-2xl text-red-700">HG</div>
                <h3 class="font-bold text-lg italic">Sci. Harigovind</h3>
                <p class="text-[9px] text-red-200 font-bold tracking-widest uppercase">Global Master Admin</p>
            </div>
            <div class="absolute -right-5 -bottom-5 text-9xl opacity-10">üåç</div>
        </div>

        <div class="p-4 space-y-1 flex-grow overflow-y-auto">
            <div id="google_translate_element" class="mb-4"></div>
            
            <p class="text-[10px] text-gray-400 font-black px-3 mt-2 mb-2 tracking-widest uppercase border-b pb-1">User & Buyer Services</p>
            <a href="index.html" class="menu-item"><span>üè†</span> Global Home</a>
            <a href="profile.html" class="menu-item"><span>üë§</span> My Profile</a>
            <a href="orders.html" class="menu-item"><span>üõçÔ∏è</span> My Global Orders</a>

            <p class="text-[10px] text-green-600 font-black px-3 mt-6 mb-2 tracking-widest uppercase border-b pb-1">Merchant Engine</p>
            <a href="merchant-registration.html" class="menu-item"><span>üè™</span> Seller Registration</a>
            <a href="merchant-portal.html" class="menu-item"><span>üöÄ</span> Merchant Portal</a>

            <p class="text-[10px] text-blue-600 font-black px-3 mt-6 mb-2 tracking-widest uppercase border-b pb-1">Logistics & Fleet</p>
            <a href="rider-setup.html" class="menu-item"><span>üõµ</span> Rider Registration</a>
            <a href="delivery-boy.html" class="menu-item"><span>üì¶</span> Active Tasks</a>
        </div>
        
        <div class="p-4 bg-slate-900 text-white text-[8px] text-center font-bold tracking-widest">
            <p>CLOUD COMPUTING ACTIVE | HAI v2.1.2026</p>
        </div>
    </div>

    <main class="max-w-7xl mx-auto p-4">
        <div class="my-8 text-center md:text-left flex flex-col md:flex-row md:items-end justify-between gap-4">
            <div>
                <h2 class="text-4xl font-black text-slate-900 leading-none">GLOBAL <span class="text-red-600 underline italic">FRESH</span> GRID</h2>
                <p class="text-gray-500 font-medium mt-2 italic">Scientifically Optimized Logistics by HAI.</p>
            </div>
            <div class="bg-white p-3 rounded-2xl shadow-xl border border-gray-100 flex items-center gap-4">
                <div class="text-center px-4 border-r">
                    <p class="text-[10px] font-bold text-gray-400 uppercase">Gateway Status</p>
                    <p class="text-[11px] font-black text-red-600">HG-SECURE ACTIVE</p>
                </div>
                <div id="status-indicator" class="flex items-center gap-2 px-2">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    <p id="order-count" class="text-[10px] font-bold text-slate-700">0 ACTIVE TRADES</p>
                </div>
            </div>
        </div>

        <div id="product-list" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6">
            </div>
    </main>

    

    <script>
        // 1. MASTER CONFIGURATION
        const HAI_CONFIG = {
            adminUpi: "harigovindsingh91-2@okhdfcbank",
            commissionRate: 0.10, // 10% For Scientist Harigovind
            deliveryRate: 0.05,   // 5% For Rider
            version: "2.1.0"
        };

        function toggleMenu() {
            document.getElementById('menu').classList.toggle('active');
            document.getElementById('overlay').classList.toggle('active');
        }

        // 2. LOCALIZATION ENGINE (IP & Location)
        async function initLocalization() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                document.getElementById('user-city').innerText = `${data.city}, ${data.country_name}`;
                document.getElementById('user-ip').innerText = `IP: ${data.ip}`;
                
                // ‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§Ø‡•Ç‡§ú‡§∞ ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§°‡•á‡§ü‡§æ ‡§´‡•â‡§∞ ‡§°‡•á‡§≤‡§ø‡§µ‡§∞‡•Ä
                localStorage.setItem('hai_last_node', JSON.stringify({
                    city: data.city,
                    zip: data.postal,
                    ip: data.ip
                }));

                renderProducts({ symbol: '‚Çπ', flag: 'üáÆüá≥' });
                refreshOrderCount();
            } catch (e) {
                renderProducts({ symbol: '‚Çπ', flag: 'üáÆüá≥' });
            }
        }

        // 3. PRODUCT RENDERING
        function renderProducts(currency) {
            const items = [
                { id: '101', name: 'Fresh Buffalo Milk', price: 65, img: 'ü•õ', unit: 'Litre' },
                { id: '102', name: 'Pure Desi Ghee', price: 750, img: 'üßà', unit: 'KG' },
                { id: '103', name: 'Farm Fresh Eggs', price: 80, img: 'ü•ö', unit: 'Dozen' },
                { id: '104', name: 'Organic Honey', price: 450, img: 'üçØ', unit: 'Bottle' },
                { id: '105', name: 'Seasonal Mangoes', price: 120, img: 'ü•≠', unit: 'KG' }
            ];
            
            const container = document.getElementById('product-list');
            container.innerHTML = items.map(p => `
                <div class="product-card glass-card p-4 relative rounded-[2rem] border">
                    <span class="fresh-tag absolute top-4 left-4">LIVE FRESH</span>
                    <div class="w-full h-32 flex items-center justify-center text-6xl mb-4 bg-gray-50/50 rounded-2xl">${p.img}</div>
                    <h3 class="font-black text-xs uppercase truncate">${p.name}</h3>
                    <p class="text-[9px] text-gray-400 font-bold mb-3">${p.unit}</p>
                    <div class="flex items-center justify-between mt-4 border-t pt-3">
                        <span class="text-lg font-black text-green-700">${currency.symbol}${p.price}</span>
                        <button onclick="executeSecureTrade('${p.id}', '${p.name}', ${p.price})" class="bg-black text-white text-[9px] px-4 py-2 rounded-xl font-black hover:bg-red-600 transition uppercase shadow-lg">Buy Now</button>
                    </div>
                </div>
            `).join('');
        }

        // 4. THE CORE LOGIC ENGINE (Integrated Payment & Logging)
        function executeSecureTrade(id, name, amount) {
            // Split Logic
            const adminAmt = (amount * HAI_CONFIG.commissionRate).toFixed(2);
            const riderAmt = (amount * HAI_CONFIG.deliveryRate).toFixed(2);
            const sellerAmt = (amount - adminAmt - riderAmt).toFixed(2);

            const orderId = "HAI-" + Math.floor(100000 + Math.random() * 900000);

            // ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡•ã ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§ï‡§∞‡§®‡§æ (Data Linkage)
            const orderData = {
                orderId, productId: id, productName: name, total: amount,
                adminShare: adminAmt, riderShare: riderAmt, sellerShare: sellerAmt,
                status: "PENDING_PAYMENT",
                timestamp: new Date().toLocaleString()
            };

            let allOrders = JSON.parse(localStorage.getItem('hai_orders')) || [];
            allOrders.push(orderData);
            localStorage.setItem('hai_orders', JSON.stringify(allOrders));

            // UPI ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§ï‡§∞‡§®‡§æ
            alert(`HAI SECURE GATEWAY\n------------------\nOrder ID: ${orderId}\n‡§Ü‡§™‡§ï‡§æ 10% ‡§ï‡§Æ‡•Ä‡§∂‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§`);
            
            const upiUrl = `upi://pay?pa=${HAI_CONFIG.adminUpi}&pn=HAI_GLOBAL_ADMIN&am=${amount}&tn=Order_${orderId}&cu=INR`;
            
            window.location.href = upiUrl;
            refreshOrderCount();
        }

        function refreshOrderCount() {
            const orders = JSON.parse(localStorage.getItem('hai_orders')) || [];
            document.getElementById('order-count').innerText = `${orders.length} ACTIVE TRADES`;
        }

        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }

        window.onload = initLocalization;
    </script>
</body>
</html>
