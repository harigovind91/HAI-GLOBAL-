<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAI Global | Scientific Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .side-menu { position: fixed; top: 0; left: -100%; width: 300px; height: 100%; background: white; z-index: 1000; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 20px 0 40px rgba(0,0,0,0.15); }
        .side-menu.active { left: 0; }
        .menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display: none; z-index: 999; backdrop-filter: blur(4px); }
        .menu-overlay.active { display: block; }
        .nav-gradient { background: linear-gradient(90deg, #dc2626 0%, #b91c1c 100%); }
        .product-card { transition: all 0.3s ease; border: 1px solid #f0f0f0; background: white; border-radius: 2rem; overflow: hidden; }
        .product-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(220, 38, 38, 0.1); border-color: #dc2626; }
        .btn-buy { background: #16a34a; transition: 0.3s; }
        .menu-item { display: flex; align-items: center; gap: 12px; padding: 14px; border-radius: 12px; transition: 0.2s; font-weight: 600; color: #374151; cursor: pointer; }
        .menu-item:hover { background: #fef2f2; color: #dc2626; }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <nav class="nav-gradient text-white p-4 sticky top-0 z-50 shadow-md">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <button onclick="toggleMenu()" class="text-2xl focus:outline-none">‚ò∞</button>
                <h1 class="text-2xl font-black tracking-tighter italic">HAI<span class="text-green-400">GLOBAL</span></h1>
            </div>
            <div class="text-right">
                <p id="pin-code" class="text-[10px] text-red-200 font-bold uppercase tracking-widest italic">Syncing with HAI Grid...</p>
                <p class="text-xs font-medium">Lucknow, India</p>
            </div>
        </div>
    </nav>

    <div id="overlay" class="menu-overlay" onclick="toggleMenu()"></div>

    <div id="menu" class="side-menu flex flex-col">
        <div class="bg-red-700 p-8 text-white">
            <div class="w-16 h-16 bg-white rounded-2xl mb-4 flex items-center justify-center text-2xl font-black shadow-lg text-red-700">HG</div>
            <h3 class="font-bold text-lg leading-tight italic">Sci. Harigovind</h3>
            <p class="text-[10px] text-red-200 uppercase font-black tracking-widest">Master Intel Account</p>
        </div>

        <div class="p-4 space-y-1 flex-grow overflow-y-auto">
            <p class="text-[10px] text-gray-400 font-black px-3 mt-4 mb-2 tracking-widest uppercase">My Interface</p>
            <a href="profile.html" class="menu-item"><span>üë§</span> Personal Profile</a>
            <a href="address.html" class="menu-item"><span>üìç</span> Dispatch Addresses</a>
            <a href="orders.html" class="menu-item"><span>üõçÔ∏è</span> My Order History</a>

            <div class="my-4 border-t border-gray-100"></div>

            <p class="text-[10px] text-green-600 font-black px-3 mb-2 tracking-widest uppercase">Merchant Engine</p>
            <a href="merchant-registration.html" class="menu-item"><span>üè™</span> Open Shop</a>
            <a href="merchant-portal.html" class="menu-item"><span>üöÄ</span> Live Listing (Portal)</a>
            <a href="seller-dashboard.html" class="menu-item"><span>üìä</span> Shop Insights</a>
            <div onclick="openCamera()" class="menu-item text-green-700"><span>üì∑</span> Inventory Camera</div>

            <div class="my-4 border-t border-gray-100"></div>

            <p class="text-[10px] text-blue-600 font-black px-3 mb-2 tracking-widest uppercase">Logistics Hub</p>
            <a href="rider-setup.html" class="menu-item"><span>üõµ</span> Rider Registration</a>
            <a href="delivery-boy.html" class="menu-item"><span>üì¶</span> Active Shipments</a>

            <div class="my-4 border-t border-gray-100"></div>

            <p class="text-[10px] text-red-600 font-black px-3 mb-2 tracking-widest uppercase">Secure Control</p>
            <a href="https://your-external-admin-backend.com" target="_blank" class="menu-item bg-red-50 text-red-700 border border-red-100 rounded-xl">
                <span>üõ°Ô∏è</span> Master Admin Panel
            </a>
        </div>
        
        <div class="p-6 bg-gray-50 text-[10px] text-center text-gray-400 font-bold border-t">
            HAI SYSTEMS v2.0.26 | POWERED BY HARIGOVIND
        </div>
    </div>

    <main class="max-w-6xl mx-auto p-4 md:p-8">
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-2xl font-black text-slate-800 border-l-4 border-red-600 pl-3 uppercase italic tracking-tighter">Live Inventory</h2>
            <div class="flex items-center gap-2 bg-green-100 px-3 py-1 rounded-full">
                <span class="w-2 h-2 bg-green-600 rounded-full animate-pulse"></span>
                <span class="text-[10px] font-black text-green-700 uppercase tracking-widest">Active Node</span>
            </div>
        </div>

        <div id="product-list" class="grid grid-cols-2 md:grid-cols-4 gap-6">
            </div>
    </main>

    <script src="logic.js"></script>
    <script>
        function toggleMenu() {
            document.getElementById('menu').classList.toggle('active');
            document.getElementById('overlay').classList.toggle('active');
        }

        // Marketplace Loader: Pulling data from HAI_Market Storage
        function renderProducts() {
            const market = JSON.parse(localStorage.getItem('hai_market')) || [];
            const container = document.getElementById('product-list');
            
            // If empty, show default placeholder
            if(market.length === 0) {
                container.innerHTML = `<p class="col-span-full text-center text-gray-400 font-bold py-10 italic">No products live in your area yet...</p>`;
            }

            market.forEach(p => {
                const card = `
                    <div class="product-card p-4">
                        <div class="w-full h-40 bg-gray-100 rounded-2xl mb-4 flex items-center justify-center text-4xl shadow-inner">üî¨</div>
                        <h3 class="font-bold text-slate-800 text-sm mb-1 truncate">${p.productName}</h3>
                        <p class="text-[10px] text-gray-400 font-black uppercase mb-3">Shop: ${p.shopName}</p>
                        <div class="flex items-center justify-between border-t pt-3">
                            <span class="text-lg font-black text-green-600">‚Çπ${p.price}</span>
                            <button onclick="payWithCommission('${p.id}', ${p.price})" 
                                    class="btn-buy text-white text-[10px] font-black px-4 py-2 rounded-xl shadow-md uppercase active:scale-95">
                                Buy Now
                            </button>
                        </div>
                    </div>`;
                container.innerHTML += card;
            });
        }
        window.addEventListener('DOMContentLoaded', renderProducts);
    </script>
</body>
        </html>
        
